<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
        {% load static %}
        <link rel="stylesheet" type="text/css" href="{% static 'users/style.css' %}">
        <title>VVI Homepage</title>
    </head>

    <body>
        <div id="cms-add-prod-container" class="outer-container container-fluid">
            <nav id="home-top-header" class="navbar navbar-expand-lg justify-content-between">
                <a class="navbar-brand" href="/cms-home">
                    <img class="header-image img-fluid" src="{% static 'users/Vonberg-Logo.svg' %}" alt="">
                </a>
                <div class="d-flex flex-row justify-content-end">
                    <a class="header-link nav-link" href="/products">New Products</a>
                    <p class="cms-top-nav mx-2 my-auto">Add New Product</p>
                    <p class="cms-top-nav mx-2 my-auto">Generate Custom PDF</p>
                    <p class="cms-top-nav mx-2 my-auto">Model Pricing</p>
                    <p class="cms-top-nav mx-2 my-auto">STP Download Report</p>
                </div>
            </nav><!-- home-top-header end -->

            <nav id="main-navbar" class="navbar navbar-expand-lg justify-content-end">
                <a class="main-nav-hov nav-link nav-item btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="">Products</a>
                <a class="main-nav-hov nav-link nav-item btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
                <a class="cms-greyed nav-link nav-item" disabled>About</a>
                <a class="cms-greyed nav-link nav-item" disabled>Find a Distributor</a>
                <a class="cms-greyed nav-link nav-item" disabled>Contact</a>
            </nav><!-- main-navbar end -->

            <div id="cms-add-prod-main" class="inner-main col-md-10 mx-auto p-5">

                <!-- I believe the dropdowns should be populated from the database, ie. the select elements
                for category, type, series, short description, and specifications. -->
                <form id="add-prod-form">
                    <h1 id="title-one" class="active-title page-title">Add New Product</h1>
                    <h1 id="title-two" class="inactive-title page-title">Add New Product: Description and Features</h1>
                    <h1 id="title-three" class="inactive-title page-title">Add New Product: Series Table</h1>
                    <h1 id="title-four"class="inactive-title page-title">Add New Product: Image Uploads</h1>
                    <h1 id="title-five"class="inactive-title page-title">Add New Product: STP File Uploads</h1>

                    <div id="one" class="active-slide form-slide col-md-5 mx-auto">
                        <div class="form-group">
                            <label>Category</label>
                            <select class="form-control" name="product-category">
                                <option value="Select..." selected disabled>Select...</option>
                            </select>
                        </div>

                        <div class="row no-gutters">
                            <div class="col-sm-6">
                                <label>Product Status</label>
                                <div class="form-check">
                                    <input type="checkbox" name="new-status" class="form-check-input" value="new" checked>
                                    <label class="form-check-label">New</label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label>Expiration</label>
                                <select class="form-control" name="product-expiration">
                                    <option value="Select..." selected disabled>Select...</option>
                                </select>
                            </div>
                        </div>

                        <label>Style</label>
                        <div class="form-group">
                            <div class="form-check form-check-inline">
                                <input type="radio" name="product-style" class="form-check-input" value="inline">
                                <label class="form-check-label">Inline</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input type="radio" name="product-style" class="form-check-input" value="cartridge">
                                <label class="form-check-label">Cartridge</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Type</label>
                            <select class="form-control" name="product-type">
                                <option value="Select..." selected disabled>Select...</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Series</label>
                            <select class="form-control" name="product-series">
                                <option value="Select..." selected disabled>Select...</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Short Description</label>
                            <select class="form-control" name="product-short-description">
                                <option value="Select..." selected disabled>Select...</option>
                            </select>
                        </div>
                        <p class="text-right"><a id="next-one" class="btn btn-primary">Next</a></p>
                    </div><!-- #one end -->

                    <div id="two" class="inactive-slide form-slide col-md-5 mx-auto">
                        <div class="form-group">
                            <label>Detail Description:</label>
                            <textarea class="form-control" name="product-detail-description" cols="50" rows="6"></textarea>
                        </div>

                        <div class="form-group w-bullet">
                            <label>Operation</label>
                            <input type="text" class="form-control" name="product-operation" placeholder="Enter bullet copy...">
                            <a class="add-bullet" href="">Add Bullet</a>
                        </div>

                        <div class="form-group w-bullet">
                            <label>Features</label>
                            <input type="text" class="form-control" name="product-features" placeholder="Enter bullet copy...">
                            <a class="add-bullet" href="">Add Bullet</a>
                        </div>

                        <div class="form-group row no-gutters align-items-center w-bullet">
                            <div class="col-sm-4">
                                <label>Specifications</label>
                                <select class="form-control" name="product-specification">
                                    <option value="Select..." selected disabled>Select...</option>
                                </select>
                            <a class="add-bullet" href="">Add Row</a>
                            </div>
                            <div class="col-sm-8">
                                <input type="text" name="product-spec-detail" class="form-control" placeholder="Enter value...">
                            </div>
                        </div>
                        <div class="row no-gutters justify-content-between">
                            <a id="back-two" class="back btn btn-primary">Back</a>
                            <a id="next-two" class="btn btn-primary">Next</a>
                        </div>
                    </div><!-- #two end -->

                    <div id="three" class="inactive-slide form-slide">
                        <div class="buffer-div">
                            <div class="table-create-box p-3">
                                <div class="creation-row row no-gutters">
                                    <div class="data-column">
                                        <input type="text" class="model-header-input form-control" placeholder="Model" name="table-header">
                                        <input type="text" class="model-name-input form-control" placeholder="Enter model" name="table-data">
                                    </div>
                                    <div class="add-column">
                                        <a class="model-column add-bullet" href="">Add Column</a>
                                    </div>
                                </div>
                                <div class="row no-gutters">
                                    <div class="col">
                                        <a class="model-row add-bullet" href="">Add Row</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row no-gutters justify-content-between">
                            <a id="back-three" class="back btn btn-primary">Back</a>
                            <a id="next-three" class="btn btn-primary">Next</a>
                        </div>
                    </div><!-- #three end -->

                    <div id="four" class="inactive-slide form-slide col-md-8 mx-auto table-responsive">
                        <table class="model-table table">
                            <thead>
                                <tr>
                                    <th class="model-table-header">Image</th>
                                    <th class="model-table-header">Current File</th>
                                    <th class="model-table-header">Upload File</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="model-table-data">Model name</td>
                                    <td class="model-table-data">None</td>
                                    <td class="model-table-data">
                                        <label class="fileContainer">Browse
                                            <input id="image-file" type="file" class="form-control"/>
                                        </label>
                                    </td>
                                    <td id="file-test" class="model-table-data">No file chosen</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="row no-gutters justify-content-between">
                            <a id="back-four" class="back btn btn-primary">Back</a>
                            <a id="next-four" class="btn btn-primary">Next</a>
                        </div>
                    </div><!-- #four end -->

                    <div id="five" class="inactive-slide form-slide col-md-8 mx-auto table-responsive">
                        <table class="model-table table">
                            <thead>
                                <tr>
                                    <th class="model-table-header">Model</th>
                                    <th class="model-table-header">Current File</th>
                                    <th class="model-table-header">Upload File</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="model-table-data">Model name</td>
                                    <td class="model-table-data">None</td>
                                    <td class="model-table-data">
                                        <label class="fileContainer">Browse
                                            <input id="stp-file" type="file" class="form-control"/>
                                        </label>
                                    </td>
                                    <td id="file-test-2" class="model-table-data">No file chosen</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="row no-gutters justify-content-between">
                            <a id="back-five" class="back btn btn-primary">Back</a>
                            <input id="submit-five" type="submit" class="btn btn-primary" value="Add Product">
                        </div>
                    </div><!-- #five end -->
                </form>
            </div><!-- #cms-add-prod-main end -->
            <div id="vvi-footer" class="col-lg-10 col-md-12 mx-lg-auto">
                <div class="row no-gutters">
                    <div class="col-md-3 col-7">
                        <img class="header-image img-fluid" src="{% static 'users/Vonberg-Logo.svg' %}" alt="">
                    </div>
                    <div class="col-md-3 col-7">
                        <p>Vonberg Valve, Inc.<br>3800 Industrial Avenue<br>Rolling Meadows, IL 60008</p>
                    </div>
                    <div class="col-md col-7">
                        <p>P: 847-259-3800<br>F: 847-259-3997</p>
                    </div>
                    <div class="col-md col-7">
                        <p>info@vonberg.com</p>
                    </div>
                    <div class="icon-col col-md col-7">
                        <img class="img-fluid" src="{% static 'users/linkedin.svg' %}">
                        <img class="img-fluid" src="{% static 'users/facebook.svg' %}">
                    </div>
                </div>
            </div><!-- vvi-footer end -->
        </div><!-- #cms-add-prod-container end -->

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

        <script type="text/javascript">
            jQuery(document).ready(function($) {
            // fxn to flip through form slides
                // first next link:
                $("#next-one").click(function() {
                    $("#title-one, #title-two").toggleClass('inactive-title', 'active-title');
                    $("#one, #two").toggleClass('inactive-slide', 'active-slide');
                });
                // first back link:
                $("#back-two").click(function() {
                    $("#title-one, #title-two").toggleClass('inactive-title', 'active-title');
                    $("#one, #two").toggleClass('inactive-slide', 'active-slide');
                });

                // second next link:
                $("#next-two").click(function() {
                    $("#title-two, #title-three").toggleClass('inactive-title', 'active-title');
                    $("#two, #three").toggleClass('inactive-slide', 'active-slide');
                });
                // second back link:
                $("#back-three").click(function() {
                    $("#title-two, #title-three").toggleClass('inactive-title', 'active-title');
                    $("#two, #three").toggleClass('inactive-slide', 'active-slide');
                });

                // third next link:
                $("#next-three").click(function() {
                    $("#title-three, #title-four").toggleClass('inactive-title', 'active-title');
                    $("#three, #four").toggleClass('inactive-slide', 'active-slide');
                });
                // third back link:
                $("#back-four").click(function() {
                    $("#title-three, #title-four").toggleClass('inactive-title', 'active-title');
                    $("#three, #four").toggleClass('inactive-slide', 'active-slide');
                });

                // fourth next link:
                $("#next-four").click(function() {
                    $("#title-four, #title-five").toggleClass('inactive-title', 'active-title');
                    $("#four, #five").toggleClass('inactive-slide', 'active-slide');
                });
                // last back link:
                $("#back-five").click(function() {
                    $("#title-four, #title-five").toggleClass('inactive-title', 'active-title');
                    $("#four, #five").toggleClass('inactive-slide', 'active-slide');
                });

            // fxn to insert input fields upon add bullet click:
                // features bullets
                var rowCount = 1;
                var colCount = 1;
                $(".add-bullet").click(function(e) {
                    e.preventDefault();
                    var tableSlide = $(".table-create-box").find(this);
                    var featSlide = $(".form-slide .w-bullet").find(this);

                    if(tableSlide.length > 0) {
                        if( $(this).hasClass('model-column') ){
                            var existingRow = $(".creation-row");
                            var newColDiv = "<div class='data-column'>"
                            var colHead;
                            var newCol = "<input type='text' class='model-row-input form-control' placeholder='Enter value' />";
                            for(var j = 0; j < rowCount; j++) {
                                if(j < 1) {
                                    colHead = "<input type='text' class='model-header-input form-control' placeholder='Enter table header' />";
                                    newColDiv += colHead;
                                    newColDiv += newCol;
                                } else {
                                    newColDiv += newCol;
                                }
                            }
                            colCount++;
                            newColDiv += "</div>";
                            existingRow.find('.data-column').last().after(newColDiv);
                            var currentWidth = parseInt($("#three .buffer-div .table-create-box").css("width")) +200;
                            if(colCount > 8) {
                                $("#three .buffer-div .table-create-box").css("width", currentWidth);
                            }
                        } else if ( $(this).hasClass('model-row') ){
                            var dataRowCheck = $(".creation-row .data-column").find('.model-row-input:last-child');
                            var firstRowCheck = $(".creation-row .data-column .model-name-input");
                            var newFirst = "<input type='text' class='model-header-input form-control' placeholder='Enter model'/>";
                            firstRowCheck.after(newFirst);
                            var newRow = "<input type='text' class='model-row-input form-control' placeholder='Enter value' />";
                            dataRowCheck.after(newRow);
                            rowCount += 1;
                        }
                    } else if(featSlide.length > 0) {
                        var newBullet = "<input type='text' class='form-control' placeholder='Enter bullet copy...' />";
                        var newSelect = "<select class='form-control' name='product-specification'><option value='Select...' selected disabled>Select...</option></select>";
                        $(this).closest('.w-bullet').find('select').first().after(newSelect);
                        $(this).closest(".w-bullet").find("input[type=text]").first().after(newBullet);
                    }
                });

                $('#image-file').change(function() {
                    var filename = $('#image-file').val();
                    $('#file-test').html(filename);
                });

                $('#stp-file').change(function() {
                    var filename = $('#stp-file').val();
                    $('#file-test-2').html(filename);
                });
            });
        </script>
    </body>
</html>